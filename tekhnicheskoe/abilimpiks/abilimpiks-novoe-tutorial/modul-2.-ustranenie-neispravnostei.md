# Модуль 2. Устранение неисправностей

Модуль 2 сосредоточен на диагностике и исправлении неисправностей, которые эксперты внесут в робота. Неисправности могут быть как физическими (например, связанные с оборудованием), так и программными (ошибки в коде, сбои в конфигурации).&#x20;

Самое первое и простое, что нужно сделать:&#x20;

* проверить все провода (должны быть подключены)
* проверить все колеса и крепления колес
* проверить прочие крепления - ничего не должно болтаться
* проверить, не заклеена ли камера
* проверить работоспособность кнопок, светодиодов - ты загрузил прошивку в предыдущем модуле, и то, как все работает, не должно было поменяться

Вот еще примеры возможных неисправностей и как их можно выявить и исправить:

#### Примеры физических неисправностей:

1. **Проблемы с питанием:**
   * **Симптомы:** Робот не включается, внезапно выключается или батарея быстро разряжается.
   * **Диагностика:** Проверь подключение аккумулятора, измерь напряжение мультиметром, посмотри информацию о заряде через соответствующий ROS-топик.
   * **Решение:** Подключи новый аккумулятор или проверь провода питания.
2. **Неисправность сенсоров:**
   * **Симптомы:** Робот неправильно реагирует на окружающую среду, некорректно считывает данные с датчиков.
   *   **Диагностика:** Используй команды ROS для просмотра данных с сенсоров, например:

       ```bash
       rostopic echo /sensor_data
       ```

       Сравни полученные данные с реальными условиями.
   * **Решение:** Проверь соединения сенсоров или замени неисправные элементы.
3. **Проблемы с камерой:**
   * **Симптомы:** Камера не передает изображение или передает его с искажениями.
   * **Диагностика:** Запусти `rqt_image_view` для проверки изображения с камеры.
   * **Решение:** Проверь разъемы, кабели камеры или замените ее.
4. **Неисправность моторов:**
   * **Симптомы:** Робот не двигается или двигается с рывками.
   *   **Диагностика:** Проверь топики управления моторами:

       ```bash
       rostopic echo /cmd_vel
       ```

       Убедись, что команды передаются корректно, и проверь физические соединения с моторами.
   * **Решение:** Проверь подключения и провода моторов, возможно, нужно заменить моторы или регуляторы.

***

#### Примеры программных неисправностей:

1. **Ошибка в конфигурации сети:**
   * **Симптомы:** Робот не подключается к роутеру полигона или не может взаимодействовать с другими устройствами.
   *   **Диагностика:** Проверь настройки сети на роботе, открой файл `wpa_supplicant.conf` или проверь активные сетевые интерфейсы:

       ```bash
       ifconfig
       ```
   * **Решение:** Исправь сетевые настройки, перезагрузи Wi-Fi-модуль.
2.  **Ошибки в ROS-топиках или нодах:**

    * **Симптомы:** Определенные ноды не запускаются или топики не работают.
    *   **Диагностика:** Используй команду:

        ```bash
        rosnode list
        ```

        Проверь, есть ли ноды, которые не работают, и используй:

        ```bash
        rostopic list
        ```

        для проверки топиков.&#x20;

    Если ROS-нода завершает работу с ошибкой, просмотри логи:

    ```bash
    roslaunch <package> <launchfile>
    ```

    или `rosrun` для запуска отдельных нод вручную.

    * **Решение:** Найди и исправь ошибки в коде ноды или конфигурации launch-файлов.
3. **Несоответствие версии библиотек:**
   * **Симптомы:** Не запускаются программы или ноды из-за ошибок совместимости версий.
   *   **Диагностика:** Проверь версии необходимых библиотек, таких как `rospy` или другие, с помощью:

       ```bash
       rospack list
       ```

       Убедись, что версии библиотек соответствуют требованиям проекта.
   * **Решение:** Обнови или установи необходимые версии библиотек.
4. **Перегрузка процессора или высокая температура:**
   * **Симптомы:** Робот начинает работать медленно или зависает.
   *   **Диагностика:** Проверь нагрузку на процессор и температуру:

       ```bash
       top
       vcgencmd measure_temp
       ```
   * **Решение:** Оптимизируй программы, снизив нагрузку на процессор, или обеспечь лучшее охлаждение робота.
