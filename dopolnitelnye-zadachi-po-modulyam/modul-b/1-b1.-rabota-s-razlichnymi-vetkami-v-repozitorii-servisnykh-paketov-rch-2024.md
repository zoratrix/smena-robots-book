# 1 Б1. Работа с различными ветками в репозитории сервисных пакетов (РЧ 2024)

·        [https://github.com/voltbro/profi\_serv\_a](https://github.com/voltbro/profi_serv_a)

Производителю потребовалось добавить дополнительную ветку в репозиторий сервисного пакета, для того чтобы в ней исправлять ошибки и тестировать экспериментальные функции, а потом уже представлять их конечному клиенту. Чтобы воспользоваться новыми функциями пакета вам необходимо:

1. Продемонстрировать процесс ответвление (fork) сервисного пакета _profi\_serv\_a_ в свой репозиторий на Github;
2. Установить на робота пакет _profi\_serv\_a_ из своего репозитория;
3. Продемонстрировать создание ветки test в локальном репозитории;
4. Исправить ошибку в конфигурационном скрипте пакета _profi\_serv\_a_;
5. Продемонстрировать процесс слияния ветки test в ветку main;
6. Продемонстрировать запуск исправленного конфигурационного скрипта launch-файлом в пакете _profi\_serv\_a_ из ветки main;
7. Продемонстрировать параметр конфигурации (configuration checksum), полученный в результате работы скрипта
8. Загрузить выполненные изменения в собственный репозиторий _profi\_serv\_a_ на Github;
9. Создать запрос на обновление (Pull Request) из собственного репозитория в репозиторий разработчика. В качестве заголовка указать: «Фамилию\_номер рабочего места», в качестве комментария – изменения, которые были внесены в пакет.



Решение:

1. Зайти на гитхаб в свой профиль
2. Зайти в оригинальный репозиторий от создатетей (далее - orig\_repo) и сделать форк к себе (далее - my\_repo)
3. Склонировать на робота или ноутбук в \~/catkin\_ws/src содержимое my\_repo
4. Создать новую ветку test и переключиться на нее (git branch test -> git checkout test)
5. Выйти в \~/catkin\_ws/ и сделать компиляцию catkin\_make (опционально - можно скомпилировать уже после исправления ошибки, если ошибку сразу видно в коде и без запуска)
6. Попытаться запустить пакет, выяснить в чем ошибка
7. Исправить ошибку, скомпилировать, запустить пакет. Убедиться, что все работает
8. Сделать коммит с исправлением (добавить исправленный файл в index - git add, затем  git commit)
9. Переключиться на ветку master (git checkout master) и в эту ветку слить ветку test (git merge test). Вывести git log, убедиться, что слияние успешно выполнилось, коммит с исправлением на месте
10. Запушить изменения в my\_repo (git push origin master)
11. На гитхабе зайти в my\_repo, перейти во вкладку pull requests и сделать pull request в orig\_repo
12. Готово
